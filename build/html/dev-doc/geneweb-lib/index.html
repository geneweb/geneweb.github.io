
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Geneweb library overview &#8212; Geneweb 0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="prev" title="bench" href="../binaries/bench.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section class="tex2jax_ignore mathjax_ignore" id="geneweb-library-overview">
<h1>Geneweb library overview<a class="headerlink" href="#geneweb-library-overview" title="Permalink to this headline">¶</a></h1>
<section id="def-lib">
<h2>Def lib<a class="headerlink" href="#def-lib" title="Permalink to this headline">¶</a></h2>
<section id="adef">
<h3>Adef<a class="headerlink" href="#adef" title="Permalink to this headline">¶</a></h3>
<p>This module exposes base types and functions used by many other geneweb’s libraries. It defines the types and manipulation functions for:</p>
<ul class="simple">
<li><p>Consanguinity degrees</p></li>
<li><p>Dates</p></li>
<li><p>Compressed dates</p></li>
<li><p>Polymorphic couple that regroups parents (father and mother).</p></li>
</ul>
</section>
<section id="def">
<h3>Def<a class="headerlink" href="#def" title="Permalink to this headline">¶</a></h3>
</section>
</section>
<section id="util-lib">
<h2>Util lib<a class="headerlink" href="#util-lib" title="Permalink to this headline">¶</a></h2>
<section id="buff">
<h3>Buff<a class="headerlink" href="#buff" title="Permalink to this headline">¶</a></h3>
<p>Module that defines extenisable buffer and auxilarry functions to store charcacters and strings and get buffer’s content. The reason to define this module instead of using standard <a class="reference external" href="https://docs.ocaml.pro/docs/LIBRARY.stdlib&#64;ocaml-base-compiler.4.10.0/Stdlib/Buffer/index.html">Buffer</a> module is that its<br />
storing functions are more simple to use as an argument to the recursive functions over strings that are very common throughout Geneweb library.</p>
</section>
<section id="name">
<h3>Name<a class="headerlink" href="#name" title="Permalink to this headline">¶</a></h3>
<p>Module that defines some useful functions to construct, format, compress and adopt the strings to represent them as being person surnames/first names.</p>
</section>
<section id="utf8">
<h3>Utf8<a class="headerlink" href="#utf8" title="Permalink to this headline">¶</a></h3>
<p>Utf8 is a module that regroups some standard and useful functions dealing with UTF-8 encoded strings, which differs to standard OCaml module <a class="reference external" href="https://docs.ocaml.pro/docs/LIBRARY.stdlib&#64;ocaml-base-compiler.4.10.0/Stdlib/String/index.html">Stdlib.String</a>, that internally considers the string as a table of bytes (Utf8 consider it as a table of UTF-8 encoded character). The major difference of this module comparing to the similar (like <a class="reference external" href="http://camomile.sourceforge.net/">Camomile</a>) is that sometimes it makes use of <a class="reference external" href="https://github.com/geneweb/unidecode">OCaml implementation</a> for <a class="reference external" href="https://pypi.org/project/Unidecode/">Unidecode</a> library, that is used to convert encoded UTF-8 character to its ASCII representation.</p>
</section>
<section id="secure">
<h3>Secure<a class="headerlink" href="#secure" title="Permalink to this headline">¶</a></h3>
<p>This module grants additional security layer and controls which directories can be read by the webserver, to prevent malicious users from reading/writing on the server disk. Allowed directories are composed of list of <strong>assets</strong> and the <strong>base directory</strong>.</p>
</section>
<section id="opt">
<h3>Opt<a class="headerlink" href="#opt" title="Permalink to this headline">¶</a></h3>
<p>Module that defines/redefines some useful functions over <code class="docutils literal notranslate"><span class="pre">option</span></code> type.</p>
</section>
<section id="lock">
<h3>Lock<a class="headerlink" href="#lock" title="Permalink to this headline">¶</a></h3>
<p>Module that define the flag and the functions that allow
to manage simultaneous accesses to the files by puting a lock on them with <code class="docutils literal notranslate"><span class="pre">Unix.lockf</span></code>.</p>
</section>
<section id="progrbar">
<h3>ProgrBar<a class="headerlink" href="#progrbar" title="Permalink to this headline">¶</a></h3>
<p>Module that provides printing functions that helps to iterate over collections with progressive bar that shows current iteration stage (proportion of current index to total number). Here is an exemple how does it used for iteration over collection with 240 elements :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># start ()</span>
............................................................

<span class="c1"># run 0 240</span>
<span class="p">|</span>...........................................................

<span class="c1"># run 1 240</span>
/...........................................................

<span class="c1"># run 2 240</span>
-...........................................................

<span class="c1"># run 3 240</span>
<span class="se">\.</span>..........................................................

<span class="c1"># run 4 240</span>
o<span class="p">|</span>..........................................................

<span class="c1"># sucessive runs</span>

<span class="c1"># run 120 240</span>

oooooooooooooooooooooooooooooo<span class="p">|</span>.............................
</pre></div>
</div>
</section>
<section id="mutil">
<h3>Mutil<a class="headerlink" href="#mutil" title="Permalink to this headline">¶</a></h3>
<p>The main module inside <em>Util</em> library that regroups many type of useful functions dealing with :</p>
<ul class="simple">
<li><p>File system</p></li>
<li><p>Lists</p></li>
<li><p>Arrays</p></li>
<li><p>Names</p></li>
<li><p>Letters</p></li>
<li><p>IO</p></li>
<li><p>System calls</p></li>
<li><p>Parsing different formats (like lexicon.txt or HTTP header)</p></li>
<li><p>Encoding/decoding</p></li>
</ul>
</section>
<section id="calendar">
<h3>Calendar<a class="headerlink" href="#calendar" title="Permalink to this headline">¶</a></h3>
<p>This module defines bindings to <a class="reference external" href="https://github.com/geneweb/calendars">calendars</a> package that allows to manage different calendar’s date. Module exposes functions that:</p>
<ul class="simple">
<li><p>Convert SDN (serial day number) to and from one of the date for supported calendars (gregorian, julian, french andhebrew).</p></li>
<li><p>Convert any supported calendar’s date to and from gregorian’s date.</p></li>
<li><p>Give information about moon’s phase and about lunar calendar for the given day (SDN).</p></li>
</ul>
</section>
<section id="date">
<h3>Date<a class="headerlink" href="#date" title="Permalink to this headline">¶</a></h3>
<p><em>Date</em> provides usefull functions that helps to compare and to count time elapes between two dates.</p>
</section>
<section id="pqueue">
<h3>Pqueue<a class="headerlink" href="#pqueue" title="Permalink to this headline">¶</a></h3>
<p>This module implements priority queues. All operations are purely applicative (no side effects).
The implementation uses <a class="reference external" href="https://lara.epfl.ch/w/_media/fv20/optimalpurelyfunctionalqueues.pdf">binomial queues from Chris Okasaki</a>. Functions <code class="docutils literal notranslate"><span class="pre">add</span></code>, <code class="docutils literal notranslate"><span class="pre">take</span></code> and <code class="docutils literal notranslate"><span class="pre">union</span></code> are in O(log n) in the worst case.</p>
</section>
<section id="futil">
<h3>Futil<a class="headerlink" href="#futil" title="Permalink to this headline">¶</a></h3>
<p>This module regroups some usefull functions dealing with polymorphic data types (starts with <code class="docutils literal notranslate"><span class="pre">gen_</span></code>). Particulary it exposes functions that map values inside <code class="docutils literal notranslate"><span class="pre">gen_</span></code> data type. Aditionally it provide <code class="docutils literal notranslate"><span class="pre">gen_person_misc_names</span></code> that computes list of various mix between all kind of name of the person.</p>
</section>
</section>
<section id="gwdb-legacy-lib">
<h2>Gwdb-legacy lib<a class="headerlink" href="#gwdb-legacy-lib" title="Permalink to this headline">¶</a></h2>
<section id="btree">
<h3>Btree<a class="headerlink" href="#btree" title="Permalink to this headline">¶</a></h3>
<p>Module that is equivalent to <a class="reference external" href="https://ocaml.org/api/Map.html">Stdlib.Map</a> except some added in output signature functions dealing with keys.</p>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">Geneweb</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Developer documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../overview/index.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/index.html">Installation procedure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../binaries/index.html">Project binaries</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Geneweb library overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#def-lib">Def lib</a></li>
<li class="toctree-l3"><a class="reference internal" href="#util-lib">Util lib</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gwdb-legacy-lib">Gwdb-legacy lib</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">Developer documentation</a><ul>
      <li>Previous: <a href="../binaries/bench.html" title="previous chapter">bench</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021-2022, OCamlPro.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/dev-doc/geneweb-lib/index.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>